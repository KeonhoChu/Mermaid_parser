flowchart TD
    Start --> Process4
    Process4 --> Decision{Check 4}
    Decision --> |Pass| subgraph S1["Success Path"]
        Success --> End1
    end
    Decision --> |Fail| subgraph S2["Failure Path"] 
        Retry --> Process4
        Fail --> End2
    end
    subgraph S3["Log System"]
        Log1 --> Log2
    end
    Success --- Log1
    Fail === Log2
